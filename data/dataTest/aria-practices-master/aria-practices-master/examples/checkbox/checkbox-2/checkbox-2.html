<!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Checkbox Example (Mixed-State) | WAI-ARIA Authoring Practices 1.2</title>

    <!--  Core js and css shared by all examples; do not modify when using this template. -->
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/base.css">
    <link rel="stylesheet" href="../../css/core.css">
    <script src="../../js/examples.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    <script src="../../js/app.js"></script>

    <link href="../css/checkbox.css" rel="stylesheet">
    <script src="js/controlledCheckbox.js" type="text/javascript"></script>
    <script src="js/checkboxMixed.js" type="text/javascript"></script>
  </head>
  <body>
    <main>
     
      <section>
        <h2 id="ex_label">Example</h2>
        <div role="separator" id="ex_start_sep" aria-labelledby="ex_start_sep ex_label" aria-label="Start of"></div>
        <div  id="ex1">
           <fieldset>
              <legend>Sandwich Condiments</legend>
                  <div
                      role="checkbox"
                      class="group_checkbox"
                      aria-checked="mixed"
                      aria-controls="cond1 cond2 cond3 cond4"
                      tabindex="0"
                  >
                    All condiments
                </div>
                <ul class="checkboxes">
                  <li><label><input type="checkbox" id="cond1">Lettuce</label></li>
                  <li><label><input type="checkbox" id="cond2" checked>Tomato</label></li>
                  <li><label><input type="checkbox" id="cond3">Mustard</label></li>
                  <li><label><input type="checkbox" id="cond4">Sprouts</label></li>
                </ul>
          </fieldset>
          <script type="text/javascript">
            function checkboxFocus (event) {
              event.currentTarget.parentNode.classList.add('focus');
            };
            function checkboxBlur (event) {
              event.currentTarget.parentNode.classList.remove('focus');
            };
            window.onload = function () {
              var i;
              var mixed = document.querySelectorAll('[role="checkbox"]');
              for (i = 0; i < mixed.length; i++) {
                var m = new CheckboxMixed(mixed[i]);
                m.init();
              }
              var checkboxes = document.querySelectorAll('input[type="checkbox"]');
              for (i = 0; i < checkboxes.length; i++) {
                var cb = checkboxes[i];
                cb.addEventListener('focus', checkboxFocus);
                cb.addEventListener('blur', checkboxBlur);
              }
            };
          </script>
        </div>
        <div role="separator" id="ex_end_sep" aria-labelledby="ex_end_sep ex_label" aria-label="End of"></div>
      </section>

     
  </main>

</body>
</html>
